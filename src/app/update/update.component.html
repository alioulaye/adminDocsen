<app-header></app-header>

  <div  class="overflow-y-auto   fixed inset-0 z-50 outline-none focus:outline-none  items-center flex flex-wrap justify-center">
    <div class="relative w-auto my-6 mx-auto max-w-6xl">
      <!--content-->
      <div class="border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none">

        <!--body-->
        <div class="relative p-6 flex-auto">
          <!-- component -->
  <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col my-2">

    <div class="-mx-3 md:flex mb-6">
      <div class="flex flex-wrap justify-center">
        <div class="w-6/12 sm:w-4/12 px-4" *ngIf="!afficher; else affi">
          <img [(ngModel)]="medecin.user.image" src="{{format+medecin.user.image}}" alt="Selected Image" height="200" width="200">


        </div>
      </div>

      <input [(ngModel)]="medecin.user.image" type="file"  accept=".png, .jpg, .jpeg" (change)="handleFileInput($event.target.files)">
    </div>
    <div class="-mx-3 md:flex mb-6">
      <div class="md:w-1/2 px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2" for="grid-first-name">
         nom
        </label>
        <input [(ngModel)]="medecin.nom" class="appearance-none block w-full bg-grey-lighter text-black border border-red rounded py-3 px-4 mb-3" id="grid-first-name" type="text" placeholder="Jane">
        <p class="text-red text-xs italic">Please fill out this field.</p>
      </div>
      <div class="md:w-1/2 px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-black text-xs font-bold mb-2" for="grid-last-name">
          prenom
        </label>
        <input [(ngModel)]="medecin.prenom" class="appearance-none block w-full bg-grey-lighter text-black border border-grey-lighter rounded py-3 px-4" id="grid-last-name" type="text" placeholder="Doe">
      </div>

      <div class="md:w-1/2 px-3">
        <label class="block uppercase tracking-wide text-black text-xs font-bold mb-2" for="grid-last-name">
          telephone
        </label>
        <input [(ngModel)]="medecin.tel" class="appearance-none block w-full text-black text-grey-darker border border-grey-lighter rounded py-3 px-4" id="grid-last-name" type="tel" placeholder="Doe">
      </div>
    </div>
    <div class="-mx-3 md:flex mb-6">
      <div class="md:w-1/2 px-3 mb-6 md:mb-0">
        <label  class="block uppercase tracking-wide text-black text-xs font-bold mb-2" for="grid-first-name">
         adresse
        </label>
        <input [(ngModel)]="medecin.adresse" class="appearance-none block w-full bg-grey-lighter text-black border border-red rounded py-3 px-4 mb-3" id="grid-first-name" type="text" placeholder="Jane">
        <p class="text-red text-xs italic">Please fill out this field.</p>
      </div>
      <div class="md:w-1/2 px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-black text-xs font-bold mb-2" for="grid-password">
          usernname
        </label>
        <input [(ngModel)]="medecin.user.username" class="appearance-none block w-full bg-grey-lighter text-black border border-grey-lighter rounded py-3 px-4 mb-3" id="grid-password" type="text" placeholder="******************">
        <p class="text-grey-dark text-xs italic">Make it as long and as crazy as you'd like</p>
      </div>

    </div>

    <div class="-mx-3 md:flex mb-6">
      <div class="md:w-1/2 px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-black text-xs font-bold mb-2" for="grid-password">
          email
        </label>
        <input [(ngModel)]="medecin.user.email" class="appearance-none block w-full bg-grey-lighter text-black border border-grey-lighter rounded py-3 px-4 mb-3" id="grid-password" type="email" placeholder="******************">
        <p class="text-black text-xs italic">Make it as long and as crazy as you'd like</p>
      </div>
      <div class="md:w-1/2 px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-black text-xs font-bold mb-2" for="grid-password">
          date de naissance
        </label>
        <input [ngModel]="medecin.datenaissance | date: 'shortDate'" class="appearance-none block w-full bg-grey-lighter text-black border border-grey-lighter rounded py-3 px-4 mb-3" id="grid-password" type="date" placeholder="******************">
        <p class="text-grey-dark text-xs italic">{{ medecin.datenaissance | date }}</p>
      </div>
    </div>
    <div class="-mx-3 md:flex mb-2">
      <div class="md:w-1/2 px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-black text-xs font-bold mb-2" for="grid-city">
          Hopital
        </label>
        <select [(ngModel)]="medecin.idHopital" class="block  w-full bg-grey-lighter border border-grey-lighter text-black py-3 px-4 pr-8 rounded" id="grid-state">
          <option [ngValue]="medecin.idHopital" disabled> {{medecin.hopital.nom}}</option>
          <option *ngFor="let hopi of hopitals" [ngValue]="hopi.id">{{hopi.nom}}</option>

        </select>
       </div>
      <div class="md:w-1/2 px-3">
        <label class="block uppercase tracking-wide text-black text-xs font-bold mb-2" for="grid-state">
          Specialite
        </label>
        <div>

          <!--<select [(ngModel)]="doc.specialite.libelle"   class="form-select block  w-full bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded" >
            <option> lesspecialite</option>
            <option [ngValue]="doc.specialite.id"> {{doc.specialite.libelle}}</option>
            <option *ngFor="let specialite of specialites" [ngValue]="specialite.id">{{specialite.libelle}}</option>-->
           <select  [(ngModel)]="medecin.idSpecialite"  class="block  w-full bg-grey-lighter border border-grey-lighter text-black py-3 px-4 pr-8 rounded" >
              <option class="text-black" [ngValue]="medecin.idSpecialite"  disabled>{{medecin.specialite.libelle}}</option>
              <option class="text-black" *ngFor="let spec of specialites" [ngValue]="spec.id">{{spec.libelle}}</option>
            </select>


        </div>
      </div>

    </div>
  </div>
   </div>
      <!--footer-->
      <div class="flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b">
        <button class="text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1" type="button" style="transition: all .15s ease" >
          Close
        </button>
        <button (click)="updateMedecin()" class="bg-green-500 text-white active:bg-green-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1" type="button" style="transition: all .15s ease">
          Save Changes
        </button>
      </div>
    </div>
        </div>

      </div>

  <div class="opacity-25 fixed inset-0 z-40 bg-black">

    <ng-template #affi>
      <img [(ngModel)]="medecin.user.image" src="{{ImageBaseData}}" alt="Selected Image" height="400" width="400">
    </ng-template>
